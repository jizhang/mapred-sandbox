apply plugin: 'java'
apply plugin: 'eclipse'

sourceCompatibility = 1.6
version = '0.1.0'

repositories {
    mavenCentral()
    mavenLocal()
    maven {
        url 'http://maven.twttr.com/'
    }
}

configurations {
    provided
}

sourceSets {
    main.compileClasspath += [configurations.provided]
}

eclipse.classpath.plusConfigurations += [configurations.provided]

dependencies {
    provided 'org.apache.hadoop:hadoop-core:1.0.4'
    provided 'com.hadoop.gplcompression:hadoop-lzo:0.4.15'
}

task hadoop(type: Exec) {
    dependsOn 'jar'
    commandLine 'hadoop', 'jar', 'build/libs/mapred-sandbox-0.1.0.jar', 'com.shzhangji.mapred_sandbox.' + (project.hasProperty('jobName') ? jobName : 'Default')
}
